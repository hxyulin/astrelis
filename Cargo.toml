[workspace]
resolver = "3"
members = [
  "crates/astrelis",
  "crates/astrelis-assets",
  "crates/astrelis-audio",
  "crates/astrelis-core",
  "crates/astrelis-ecs",
  "crates/astrelis-egui",
  "crates/astrelis-geometry",
  "crates/astrelis-input",
  "crates/astrelis-render",
  "crates/astrelis-scene",
  "crates/astrelis-test-utils",
  "crates/astrelis-text",
  "crates/astrelis-ui",
  "crates/astrelis-winit",
]
default-members = [
  "crates/astrelis",
  "crates/astrelis-assets",
  "crates/astrelis-audio",
  "crates/astrelis-core",
  "crates/astrelis-ecs",
  "crates/astrelis-egui",
  "crates/astrelis-geometry",
  "crates/astrelis-input",
  "crates/astrelis-render",
  "crates/astrelis-scene",
  "crates/astrelis-test-utils",
  "crates/astrelis-text",
  "crates/astrelis-ui",
  "crates/astrelis-winit",
]

[workspace.package]
version = "0.2.0"
rust-version = "1.90.0"
edition = "2024"
authors = ["hxyulin <hxyulin@proton.me>"]
license = "MIT"
publish = true
repository = "https://github.com/hxyulin/astrelis"

[workspace.dependencies]
astrelis = { path = "crates/astrelis", version = "0.2.0" }
astrelis-assets = { path = "crates/astrelis-assets", version = "0.2.0" }
astrelis-audio = { path = "crates/astrelis-audio", version = "0.2.0" }
astrelis-core = { path = "crates/astrelis-core", version = "0.2.0" }
astrelis-ecs = { path = "crates/astrelis-ecs", version = "0.2.0" }
astrelis-egui = { path = "crates/astrelis-egui", version = "0.2.0" }
astrelis-geometry = { path = "crates/astrelis-geometry", version = "0.2.0" }
astrelis-input = { path = "crates/astrelis-input", version = "0.2.0" }
astrelis-render = { path = "crates/astrelis-render", version = "0.2.0" }
astrelis-scene = { path = "crates/astrelis-scene", version = "0.2.0" }
astrelis-test-utils = { path = "crates/astrelis-test-utils", version = "0.2.0" }
astrelis-text = { path = "crates/astrelis-text", version = "0.2.0" }
astrelis-ui = { path = "crates/astrelis-ui", version = "0.2.0" }
astrelis-winit = { path = "crates/astrelis-winit", version = "0.2.0" }

tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter", "fmt"] }

puffin = "0.19.1"
puffin_http = "0.16"
bytemuck = "1.23.1"
glam = { version = "0.30.9", features = ["mint", "bytemuck"] }
mint = "0.5.9"

# External dependencies
cosmic-text = "0.12"
taffy = { version = "0.5", features = ["flexbox", "grid"] }
indexmap = "2.0"
pollster = "0.4.0"
# wgpu version must match egui-wgpu's requirement (see https://github.com/emilk/egui/blob/master/Cargo.toml)
wgpu = { version = "=27.0.1", features = ["wgsl"] }
winit = { version = "0.30.12", features = ["rwh_05"] }
sys-locale = "0.3"
egui = "0.33.3"
egui-wgpu = "0.33.3"

# Optimized collections
ahash = "0.8"
static_assertions = "1.1"

# Bitflags
bitflags = "2.4"

# Async runtime
async-executor = "1.13"
futures-lite = "2.5"
num_cpus = "1.16"

# File watching
notify = "7.0"

# Testing
tempfile = "3.10"

# GPU profiling
wgpu-profiler = "0.25"

# Benchmarking
criterion = { version = "0.5", features = ["html_reports"] }
